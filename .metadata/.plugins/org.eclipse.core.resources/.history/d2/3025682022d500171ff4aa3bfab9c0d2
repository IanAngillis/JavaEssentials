package be.pxl.h8.oef3;

import java.util.Scanner;

public class Bankrekening {
	// Opdracht 1
	private String rekeningnummer;
	private String naam;
	private double saldo;
	private double rentepercentage;

	// Opdracht 2
	Bankrekening() {
		this("geen", "onbekend", 1.2, 0);
	}

	Bankrekening(String nieuwRekeningnummer, String nieuwNaam, double nieuwSaldo, double nieuwRentepercentage) {
		if (nieuwSaldo < 0) {
			nieuwSaldo = 0;
		}

		if (nieuwRentepercentage < 0) {
			nieuwRentepercentage = 0;
		}

		this.setRekeningnummer(nieuwRekeningnummer);
		this.setNaam(nieuwNaam);
		this.setSaldo(nieuwSaldo);
		this.setRentepercentage(nieuwRentepercentage);
	}

	// Opdracht 3
	// Setters
	public void setNaam(String nieuwNaam) {
		this.naam = nieuwNaam;
	}

	public void setRekeningnummer(String nieuwRekeningnummer) {
		this.rekeningnummer = nieuwRekeningnummer;
	}

	public void setSaldo(double nieuwSaldo) {
		this.saldo = nieuwSaldo;
	}

	public void setRentepercentage(double nieuwRentepercentage) {
		this.rentepercentage = nieuwRentepercentage;
	}

	// Opdracht 4
	// Getter
	public double getSaldo() {
		return this.saldo;
	}

	public double getRentepercentage() {
		return this.rentepercentage;
	}

	public String getNaam() {
		return this.naam;
	}

	public String getRekeningnummer() {
		return this.rekeningnummer;
	}

	// Opdracht 5
	public void stort(double bedrag) {

		if (this.rekeningBestaat()) {
			// Extra controle op foutieve ingave
			if (bedrag < 0) {
				bedrag *= -1;
			}

			this.setSaldo(this.getSaldo() + bedrag);
			System.out.println("Het bedrag van " + bedrag + " euro is succesvol gestort.");

		}
	}
	
	//Opdracht 6
	public void neemOp(double bedrag) {

		if (this.rekeningBestaat()) {

			if (this.getSaldo() == 0) {
				System.out.println("u kan geen geld opnemen");
			} else if (bedrag > this.getSaldo()) {
				System.out.println("u mag enkel " + this.getSaldo() + " opnemen");
				this.setSaldo(0);
			} else {
				this.setSaldo(this.getSaldo() - bedrag);
				System.out.println("U heeft het bedrag van " + bedrag + " euro opgenomen van uw rekening.");
			}
		}
	}

	private boolean rekeningBestaat() {
		Scanner keyboard = new Scanner(System.in);
		
		if (this.getRekeningnummer().equals("geen")) {
			System.out.println("Sorry, geen rekeningnummer");
			return false;
		} else {
			
			if(this.getNaam().equals("onbekend")) {
				System.out.println("Het ziet er naar uit dat uw rekening nog niet op uw naam staat.");
				System.out.println("We hebben u naam nodig voor we de verrichting kunnen uitvoeren: ");
				System.out.println("uw naam: ");
				this.setNaam(keyboard.nextLine());
				System.out.println("Uw naam is correct verwerkt in ons systeem");
			}
			return true;
		}
	}

}
